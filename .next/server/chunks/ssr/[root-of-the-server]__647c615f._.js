module.exports=[9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},69274,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(35112);function e({onClose:a,onCreated:e}){let[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(!1),r=(0,c.useRef)(null);async function s(b){if(b.preventDefault(),o(""),!f.trim()||!j.trim())return void o("Custom ID and Mobile URL are required.");if(!h)return void o("Please choose an image (GIF/PNG/JPG).");try{let b=new FormData;b.append("id",f.trim()),b.append("image",h),b.append("urlMobile",j.trim()),b.append("urlDesktop",l.trim());let c=await fetch("/api/create",{method:"POST",body:b});if(c.ok)await c.json(),e(),g(""),i(null),k(""),m(""),r.current&&(r.current.value=""),a();else{let a=await c.json().catch(()=>({}));o(a.error||"Failed to create link")}}catch(a){console.error(a),o("An unexpected error occurred.")}}(0,c.useEffect)(()=>{q(!0);let b=document.body.style.overflow;document.body.style.overflow="hidden";let c=b=>{"Escape"===b.key&&a()};return document.addEventListener("keydown",c),()=>{document.body.style.overflow=b,document.removeEventListener("keydown",c)}},[a]);let t=(0,b.jsx)("div",{className:"fixed inset-0 z-[9999] bg-black/50",role:"dialog","aria-modal":"true",onClick:a,children:(0,b.jsx)("div",{className:"flex lg:h-screen w-screen items-center justify-center p-4",onClick:a=>a.stopPropagation(),children:(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md animate-fade-in mt-20 lg:mt-0",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 px-6 py-4 flex justify-between items-center rounded-t-lg",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Add Link"}),(0,b.jsx)("button",{onClick:a,className:"text-white/90 hover:text-white transition","aria-label":"Close modal",children:"✕"})]}),(0,b.jsxs)("form",{onSubmit:s,className:"px-6 py-4 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Name"}),(0,b.jsx)("input",{type:"text",id:"id",value:f,onChange:a=>g(a.target.value),placeholder:"Enter custom ID",className:"block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Image"}),(0,b.jsx)("input",{type:"file",accept:"image/gif,image/png,image/jpeg",onChange:a=>{let b=a.target.files;b&&b[0]&&i(b[0])},ref:r,className:"block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"urlMobile",className:"block text-sm font-medium text-gray-700 mb-1",children:"Facebook URL"}),(0,b.jsx)("input",{type:"url",id:"urlMobile",value:j,onChange:a=>k(a.target.value),placeholder:"https://example.com/mobile",className:"block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"urlDesktop",className:"block text-sm font-medium text-gray-700 mb-1",children:"Other URL (optional)"}),(0,b.jsx)("input",{type:"url",id:"urlDesktop",value:l,onChange:a=>m(a.target.value),placeholder:"https://example.com/desktop",className:"block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),n&&(0,b.jsx)("div",{className:"text-red-600 text-sm",children:n}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,b.jsx)("button",{type:"submit",className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:opacity-90 text-white px-4 py-2 rounded-md shadow transition-opacity duration-200",children:"Submit"}),(0,b.jsx)("button",{type:"button",onClick:a,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-md",children:"Close"})]})]})]})})});return p?(0,d.createPortal)(t,document.body):null}function f({onCreated:a}){let[d,f]=(0,c.useState)(!1);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>f(!0),className:"bg-gradient-to-tr from-blue-600 via-purple-600 to-pink-600 hover:opacity-90 text-white px-4 py-2 rounded-md shadow transition-opacity duration-200",children:"Add URL"}),d&&(0,b.jsx)(e,{onClose:()=>f(!1),onCreated:()=>{a()}})]})}function g({initialLinks:a}){let[d,e]=(0,c.useState)(a),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)("");(0,c.useEffect)(()=>{},[]);let k=async()=>{try{let a=await fetch("/api/links");if(a.ok){let b=await a.json(),c=Object.values(b);e(c)}else a.status}catch(a){console.error(a)}},l=d.filter(a=>a.id.toLowerCase().includes(g.toLowerCase()));return(0,b.jsx)("div",{className:"space-y-6 animate-fade-in",children:(0,b.jsxs)("div",{className:"bg-white/80 backdrop-blur-md p-6 rounded-lg shadow-2xl border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tighter  text-gray-800 border-l-4 border-blue-600 pl-3",children:"Your Links"}),(0,b.jsx)(f,{onCreated:()=>{k()}})]}),(0,b.jsx)("div",{className:"flex justify-end mb-4",children:(0,b.jsx)("input",{type:"text",placeholder:"Search Image",value:g,onChange:a=>h(a.target.value),className:"border border-gray-300 rounded px-3 py-2 w-full max-w-xs focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white shadow-sm"})}),(0,b.jsx)("div",{className:"overflow-x-auto rounded-lg shadow-lg",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,b.jsx)("thead",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"#"}),(0,b.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Image Name"}),(0,b.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Mobile Url"}),(0,b.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Desktop Url"}),(0,b.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Short Url"}),(0,b.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===l.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:6,className:"px-4 py-4 text-center text-gray-500",children:"No entries found."})}):l.map((a,c)=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50 odd:bg-gray-50 even:bg-white transition-colors",children:[(0,b.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:c+1}),(0,b.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:a.id}),(0,b.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-blue-700",children:(0,b.jsx)("a",{href:a.urlMobile,className:"underline",target:"_blank",rel:"noreferrer",children:a.urlMobile})}),(0,b.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-blue-700",children:a.urlDesktop?(0,b.jsx)("a",{href:a.urlDesktop,className:"underline",target:"_blank",rel:"noreferrer",children:a.urlDesktop}):(0,b.jsx)("span",{className:"text-gray-400 italic",children:"—"})}),(0,b.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-blue-700",children:(0,b.jsx)("a",{href:`/${a.id}`,className:"underline",target:"_blank",rel:"noreferrer",children:i?`${i}/${a.id}`:`/${a.id}`})}),(0,b.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-red-600",children:(0,b.jsx)("button",{onClick:async()=>{if(window.confirm(`Delete entry ${a.id}?`))try{(await fetch(`/api/delete/${a.id}`,{method:"DELETE"})).ok?(e(b=>b.filter(b=>b.id!==a.id)),await k()):console.error("Failed to delete")}catch(a){console.error(a)}},className:"underline hover:text-red-700 transition-colors duration-200",children:"Delete"})})]},a.id))})]})})]})})}a.s(["default",()=>g],69274)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__647c615f._.js.map