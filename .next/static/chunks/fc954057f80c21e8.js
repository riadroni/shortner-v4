(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},53501,e=>{"use strict";var t=e.i(43476),r=e.i(18566),s=e.i(71645);function o({initialUsername:e}){let o=(0,r.useRouter)(),[n,a]=(0,s.useState)(e??"");(0,s.useEffect)(()=>{if(!n&&"undefined"!=typeof document){let e=document.cookie.match(/(?:^|;\s*)username=([^;]+)/);e&&a(decodeURIComponent(e[1]))}},[n]);let i=async()=>{try{await fetch("/api/logout",{method:"POST"})}catch(e){console.error(e)}finally{o.push("/login")}};return(0,t.jsxs)("header",{className:"mb-8 flex items-center justify-between rounded-lg shadow-md p-4 bg-gradient-to-l from-blue-600 via-purple-600 to-pink-600 text-white animate-fade-in",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row items-center space-x-2 text-xl md:text-2xl tracking-tight font-bold ",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 015.657 0l1.414 1.415a4 4 0 010 5.657l-3.182 3.182a4 4 0 01-5.657 0l-.708-.708"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.172 13.828a4 4 0 01-5.657 0l-1.415-1.415a4 4 0 010-5.657l3.182-3.182a4 4 0 015.657 0l.708.708"})]}),(0,t.jsx)("span",{children:"Nobita Shortener"})]}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center items-end gap-4",children:[n&&(0,t.jsxs)("span",{className:"flex items-center text-sm md:text-base font-medium",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A9 9 0 0112 15a9 9 0 016.879 2.804M15 11a3 3 0 11-6 0 3 3 0 016 0z"})}),n]}),n&&(0,t.jsxs)("button",{onClick:i,className:"flex items-center bg-white/20 hover:bg-red-600 text-white px-3 py-1 md:px-4 md:py-2 rounded transition-colors duration-300",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 11-6 0V7a3 3 0 016 0v1"})}),"Logout"]})]})]})}e.s(["default",()=>o])},89954,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566),o=e.i(53501);function n(){let[e,n]=(0,r.useState)(""),[a,i]=(0,r.useState)(""),[l,d]=(0,r.useState)(""),c=(0,s.useRouter)(),u=async t=>{if(t.preventDefault(),d(""),!e.trim()||!a)return void d("Please provide both a username and a password.");try{let t=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.trim().toLowerCase(),password:a})});if(t.ok)c.push("/");else{let e=await t.json();d(e.error||"Login failed")}}catch(e){console.error(e),d("An unexpected error occurred")}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.default,{}),(0,t.jsxs)("div",{className:"max-w-md mx-auto mt-16 p-6 rounded-lg shadow-xl bg-white/90 backdrop-blur-md animate-fade-in",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6 text-gray-800 text-center",children:"Login"}),(0,t.jsxs)("form",{onSubmit:u,className:"space-y-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),(0,t.jsx)("input",{id:"username",type:"text",value:e,onChange:e=>n(e.target.value),className:"block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,t.jsx)("input",{id:"password",type:"password",value:a,onChange:e=>i(e.target.value),className:"block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),l&&(0,t.jsx)("div",{className:"text-red-600 text-sm",children:l}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:opacity-90 text-white font-medium px-4 py-2 rounded-md shadow transition-opacity duration-200",children:"Login"})]})]})]})}e.s(["default",()=>n])}]);